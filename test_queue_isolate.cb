// Test to isolate the crash in q2.dequeue()
import "stdlib/collections/queue.cb";

int main() {
    println("Test 1: Basic operations on q");
    Queue<int> q;
    q.enqueue(10);
    q.enqueue(20);
    q.enqueue(30);
    println("q size: ", q.size());
    
    int val = q.dequeue();
    println("Dequeued from q: ", val);
    
    int peek_val = q.peek();
    println("Peeked from q: ", peek_val);
    
    q.dequeue();
    q.dequeue();
    println("q emptied");
    
    println("\nTest 2: Create q2 and enqueue 5 items");
    Queue<int> q2;
    
    q2.enqueue(1);
    q2.enqueue(2);
    q2.enqueue(3);
    q2.enqueue(4);
    q2.enqueue(5);
    
    int size = q2.size();
    println("q2 size: ", size);
    
    println("\nTest 3: Dequeue from q2");
    println("Dequeue 1...");
    q2.dequeue();
    println("Dequeue 2...");
    q2.dequeue();
    println("Dequeue 3...");
    q2.dequeue();
    println("Dequeue 4...");
    q2.dequeue();
    println("Dequeue 5...");
    q2.dequeue();
    
    println("All tests passed!");
    return 0;
}
