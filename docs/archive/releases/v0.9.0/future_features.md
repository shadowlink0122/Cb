# ãƒã‚¤ãƒ³ã‚¿ã‚·ã‚¹ãƒ†ãƒ  å°†æ¥å®Ÿè£…äºˆå®šæ©Ÿèƒ½

**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ5æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v0.9.0

---

## ğŸ“‹ v0.9.0 å®Ÿè£…çŠ¶æ³ã‚µãƒãƒªãƒ¼

### âœ… å®Œå…¨å®Ÿè£…æ¸ˆã¿

- **ãƒã‚¤ãƒ³ã‚¿å®£è¨€ã¨åˆæœŸåŒ–**: `int* ptr = &value;`
- **ãƒ‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹**: `*ptr` ã«ã‚ˆã‚‹å€¤ã®å–å¾—ãƒ»å¤‰æ›´
- **ã‚¢ãƒ‰ãƒ¬ã‚¹æ¼”ç®—å­**: `&variable` ã§ã‚¢ãƒ‰ãƒ¬ã‚¹å–å¾—
- **ãƒã‚¤ãƒ³ã‚¿æ¼”ç®—**: `ptr++`, `ptr--`, `ptr + n`, `ptr - n`
- **16é€²æ•°ã‚¢ãƒ‰ãƒ¬ã‚¹è¡¨ç¤º**: `0x[hex]` å½¢å¼
- **æ§‹é€ ä½“ãƒã‚¤ãƒ³ã‚¿**: `(*ptr).member` ãŠã‚ˆã³ `ptr->member`
- **Interfaceãƒã‚¤ãƒ³ã‚¿**: `(*shape_ptr).area()` ã§ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ãƒƒã‚¯å‘¼ã³å‡ºã—
- **ãƒã‚¤ãƒ³ã‚¿é…åˆ—**: `int* ptrs[10];`
- **ãƒã‚¹ãƒˆã—ãŸãƒã‚¤ãƒ³ã‚¿ã‚¢ã‚¯ã‚»ã‚¹**: `(*(*p).nested).value`
- **ã‚¢ãƒ‰ãƒ¬ã‚¹æ¼”ç®—**: `&ptr` ã§ãƒã‚¤ãƒ³ã‚¿å¤‰æ•°è‡ªèº«ã®ã‚¢ãƒ‰ãƒ¬ã‚¹å–å¾—

### ğŸš§ æœªå®Ÿè£…ï¼ˆå°†æ¥äºˆå®šï¼‰

ä»¥ä¸‹ã®æ©Ÿèƒ½ã¯v0.9.0æ™‚ç‚¹ã§ã¯æœªå®Ÿè£…ã§ã‚ã‚Šã€å°†æ¥ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å®Ÿè£…äºˆå®šã§ã™ã€‚

---

## ğŸ”® å°†æ¥å®Ÿè£…äºˆå®šæ©Ÿèƒ½

### 1. implå†…ã§ã®staticå¤‰æ•°

implãƒ–ãƒ­ãƒƒã‚¯å†…ã§ã®staticå¤‰æ•°å®£è¨€ã‚’ã‚µãƒãƒ¼ãƒˆäºˆå®šã€‚

#### åŸºæœ¬æ§‹æ–‡
```c++
struct Counter {
    int value;
};

impl Helper for Counter {
    static int shared_counter = 0;  // ã™ã¹ã¦ã®Counterã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§å…±æœ‰
    
    void increment() {
        self.value++;
        shared_counter++;
    }
    
    int get_total() {
        return shared_counter;
    }
};

int main() {
    Counter c1 = {value: 0};
    Counter c2 = {value: 0};
    
    c1.increment();  // shared_counter = 1
    c2.increment();  // shared_counter = 2
    
    println("Total:", c1.get_total());  // 2
    return 0;
}
```

#### ç‰¹å¾´
- **implå˜ä½ã§ã®å…±æœ‰**: åŒã˜`impl Interface for Struct`å†…ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§å…±æœ‰
- **å‹ã”ã¨ã«ç‹¬ç«‹**: `impl I for A`ã¨`impl I for B`ã¯ç•°ãªã‚‹staticå¤‰æ•°ã‚’æŒã¤
- **æ°¸ç¶šæ€§**: ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œä¸­ãšã£ã¨ä¿æŒã•ã‚Œã‚‹
- **åˆæœŸåŒ–**: æœ€åˆã®ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«ä¸€åº¦ã ã‘åˆæœŸåŒ–

#### åå‰ç©ºé–“è¨­è¨ˆ
```
impl::InterfaceName::StructTypeName::variable_name
ä¾‹: impl::Helper::Counter::shared_counter
```

---

### 2. å‹•çš„ãƒ¡ãƒ¢ãƒªç®¡ç†ï¼ˆnew/deleteï¼‰

ãƒ’ãƒ¼ãƒ—ãƒ¡ãƒ¢ãƒªã®å‹•çš„ç¢ºä¿ãƒ»è§£æ”¾æ©Ÿèƒ½ã€‚

#### åŸºæœ¬æ§‹æ–‡
```c++
// å‹•çš„ãƒ¡ãƒ¢ãƒªç¢ºä¿
Point* p = new Point;
p->x = 10;
p->y = 20;

// ãƒ¡ãƒ¢ãƒªè§£æ”¾
delete p;

// é…åˆ—ã®å‹•çš„ç¢ºä¿
int* arr = new int[10];
arr[0] = 100;
delete[] arr;
```

#### ç‰¹å¾´
- **RAIIãƒ™ãƒ¼ã‚¹**: ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿ã¨çµ„ã¿åˆã‚ã›ãŸè‡ªå‹•ç®¡ç†
- **nullå®‰å…¨**: `delete nullptr;` ã¯å®‰å…¨ã«å‹•ä½œ
- **è‡ªå‹•nullåŒ–**: è§£æ”¾å¾Œã¯è‡ªå‹•çš„ã«nullptrã‚’è¨­å®š

#### ä½¿ç”¨ä¾‹
```c++
struct Node {
    int value;
    Node* next;
};

Node* create_list(int[5] values) {
    Node* head = new Node;
    head->value = values[0];
    head->next = nullptr;
    
    Node* current = head;
    for (int i = 1; i < 5; i++) {
        current->next = new Node;
        current = current->next;
        current->value = values[i];
        current->next = nullptr;
    }
    
    return head;
}

void free_list(Node* head) {
    while (head != nullptr) {
        Node* temp = head;
        head = head->next;
        delete temp;
    }
}
```

---

### 3. ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿

è‡ªå‹•ãƒ¡ãƒ¢ãƒªç®¡ç†ã®ãŸã‚ã®ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿ã€‚

#### unique_ptr
```c++
// æ‰€æœ‰æ¨©ã‚’æŒã¤ãƒã‚¤ãƒ³ã‚¿ï¼ˆæ’ä»–çš„æ‰€æœ‰ï¼‰
unique_ptr<Point> p = make_unique<Point>();
p->x = 10;
p->y = 20;

// æ‰€æœ‰æ¨©ã®ç§»å‹•
unique_ptr<Point> p2 = move(p);
// p ã¯nullptrã«ãªã‚‹
```

#### shared_ptr
```c++
// å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆå¼ã®å…±æœ‰ãƒã‚¤ãƒ³ã‚¿
shared_ptr<Point> p1 = make_shared<Point>();
shared_ptr<Point> p2 = p1;  // å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆ +1

// ã™ã¹ã¦ã®å‚ç…§ãŒã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŠœã‘ãŸã‚‰è‡ªå‹•å‰Šé™¤
```

#### weak_ptr
```c++
// å¾ªç’°å‚ç…§ã‚’é˜²ãå¼±å‚ç…§
shared_ptr<Node> parent = make_shared<Node>();
weak_ptr<Node> child_ref = parent;  // å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆã¯å¢—ãˆãªã„
```

---

### 4. void* æ±ç”¨ãƒã‚¤ãƒ³ã‚¿

å‹å®‰å…¨æ€§ã‚’çŠ ç‰²ã«ã—ãŸæ±ç”¨ãƒã‚¤ãƒ³ã‚¿ã€‚

```c++
void* generic_ptr = &some_value;

// ã‚­ãƒ£ã‚¹ãƒˆã—ã¦ä½¿ç”¨
int* int_ptr = (int*)generic_ptr;
```

**æ³¨æ„**: å‹å®‰å…¨æ€§ã®è¦³ç‚¹ã‹ã‚‰æ…é‡ãªå°å…¥ã‚’æ¤œè¨ä¸­ã€‚

---

### 5. é–¢æ•°ãƒã‚¤ãƒ³ã‚¿

é–¢æ•°ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã¨ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã€‚

```c++
// é–¢æ•°ãƒã‚¤ãƒ³ã‚¿å‹ã®å®šç¾©
typedef int (*BinaryOp)(int, int);

int add(int a, int b) {
    return a + b;
}

int multiply(int a, int b) {
    return a * b;
}

int apply(BinaryOp op, int x, int y) {
    return op(x, y);
}

int main() {
    println("Add:", apply(add, 5, 3));         // 8
    println("Multiply:", apply(multiply, 5, 3)); // 15
    return 0;
}
```

---

### 6. ãƒã‚¤ãƒ³ã‚¿ã®é«˜åº¦ãªæ¼”ç®—

#### ã‚¢ãƒ‰ãƒ¬ã‚¹å·®åˆ†è¨ˆç®—
```c++
int[10] arr;
int* p1 = &arr[0];
int* p2 = &arr[5];

int distance = p2 - p1;  // 5 (è¦ç´ æ•°ã§ã®å·®åˆ†)
```

#### ãƒã‚¤ãƒ³ã‚¿æ¯”è¼ƒ
```c++
if (ptr1 < ptr2) {
    println("ptr1 is before ptr2");
}
```

---

### 7. const ãƒã‚¤ãƒ³ã‚¿

ãƒã‚¤ãƒ³ã‚¿è‡ªä½“ã‚„ãƒã‚¤ãƒ³ãƒˆå…ˆã®ä¸å¤‰æ€§ã‚’ä¿è¨¼ã€‚

```c++
// ãƒã‚¤ãƒ³ãƒˆå…ˆãŒå®šæ•°
const int* ptr1 = &value;
// *ptr1 = 10;  // ã‚¨ãƒ©ãƒ¼: å€¤ã‚’å¤‰æ›´ã§ããªã„
ptr1 = &other;  // OK: ãƒã‚¤ãƒ³ã‚¿è‡ªä½“ã¯å¤‰æ›´å¯èƒ½

// ãƒã‚¤ãƒ³ã‚¿è‡ªä½“ãŒå®šæ•°
int* const ptr2 = &value;
*ptr2 = 10;     // OK: å€¤ã¯å¤‰æ›´å¯èƒ½
// ptr2 = &other;  // ã‚¨ãƒ©ãƒ¼: ãƒã‚¤ãƒ³ã‚¿ã‚’å¤‰æ›´ã§ããªã„

// ä¸¡æ–¹ãŒå®šæ•°
const int* const ptr3 = &value;
// *ptr3 = 10;     // ã‚¨ãƒ©ãƒ¼
// ptr3 = &other;  // ã‚¨ãƒ©ãƒ¼
```

---

### 8. å¤šé‡ãƒã‚¤ãƒ³ã‚¿ï¼ˆãƒã‚¤ãƒ³ã‚¿ã®ãƒã‚¤ãƒ³ã‚¿ï¼‰

```c++
int value = 42;
int* ptr = &value;
int** pptr = &ptr;

println("Value:", **pptr);  // 42

**pptr = 100;
println("Modified:", value);  // 100
```

---

### 9. nullptr ãƒªãƒ†ãƒ©ãƒ«

æ˜ç¤ºçš„ãªnullãƒã‚¤ãƒ³ã‚¿ãƒªãƒ†ãƒ©ãƒ«ã€‚

```c++
int* ptr = nullptr;

if (ptr == nullptr) {
    println("Pointer is null");
}
```

**ç¾çŠ¶**: v0.9.0ã§ã¯æ•°å€¤0ã‚’ä½¿ç”¨ã—ã¦nullã‚’è¡¨ç¾ã€‚

---

## ğŸ“… å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### v0.10.0ï¼ˆäºˆå®šï¼‰
- **implå†…ã§ã®staticå¤‰æ•°** - Interface/Implã‚·ã‚¹ãƒ†ãƒ ã®å®Œæˆåº¦å‘ä¸Š
- å¤šæ¬¡å…ƒé…åˆ—ã¸ã®ãƒã‚¤ãƒ³ã‚¿ - ãƒã‚¤ãƒ³ã‚¿ã‚·ã‚¹ãƒ†ãƒ ã®å®Œå…¨æ€§å‘ä¸Š
- å‹•çš„ãƒ¡ãƒ¢ãƒªç®¡ç†ï¼ˆ`new`/`delete`ï¼‰ã®åŸºæœ¬å®Ÿè£…

### v0.11.0ï¼ˆäºˆå®šï¼‰
- ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿ï¼ˆ`unique_ptr`, `shared_ptr`ï¼‰
- æ§‹é€ ä½“é…åˆ—ãƒ¡ãƒ³ãƒãƒ¼ã®é–¢æ•°æˆ»ã‚Šå€¤ä»£å…¥
- `nullptr` ãƒªãƒ†ãƒ©ãƒ«

### v1.0.0ã«å‘ã‘ã¦
- é–¢æ•°ãƒã‚¤ãƒ³ã‚¿
- const ãƒã‚¤ãƒ³ã‚¿
- å¤šé‡ãƒã‚¤ãƒ³ã‚¿ã®å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
- void* æ±ç”¨ãƒã‚¤ãƒ³ã‚¿ï¼ˆæ…é‡ã«æ¤œè¨ï¼‰
- é…åˆ—è¦ç´ ã¸ã®ãƒã‚¤ãƒ³ã‚¿æ§‹æ–‡ç³–è¡£ `ptr[n]`

---

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [å®Œå…¨ä»•æ§˜æ›¸](spec.md) - ç¾åœ¨å®Ÿè£…æ¸ˆã¿ã®å…¨æ©Ÿèƒ½
- [BNFæ–‡æ³•å®šç¾©](BNF.md) - è¨€èªã®æ–‡æ³•æ§‹é€ 
- [ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–](archive/) - éå»ã®å®Ÿè£…è¨ˆç”»

---

**Cbè¨€èª v0.9.0 - ãƒã‚¤ãƒ³ã‚¿ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨å®Ÿè£…ç‰ˆ**  
å°†æ¥å®Ÿè£…äºˆå®šæ©Ÿèƒ½ãƒªã‚¹ãƒˆ
