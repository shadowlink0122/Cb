# Cb言語機能別ドキュメント

このディレクトリには、Cb言語の実装済み機能の詳細なドキュメントが格納されています。

## 📚 利用可能なドキュメント

### v0.10.0の機能

#### [default_member.md](./default_member.md) - デフォルトメンバー機能
構造体に「デフォルトとして扱うメンバー」を指定できる機能。

**含まれる内容**:
- 完全な機能仕様と構文
- 暗黙的代入・参照の仕組み
- 実装アーキテクチャ
- 修正された問題（P2: bool型、P5: ポインタstring読み取り）
- 豊富な使用例
- テスト結果（全25テスト成功）

**対象読者**: デフォルトメンバー機能を使用したい開発者、実装の詳細を理解したい開発者

---

#### [defer_statement.md](./defer_statement.md) - defer文
関数やスコープの終了時に指定したコードを実行する機能。

**含まれる内容**:
- 完全な機能仕様と構文
- LIFO実行順序の説明
- スコープ管理の仕組み
- セグメンテーションフォルト修正の詳細
- 豊富な使用例
- テスト結果（全79テスト成功）

**対象読者**: defer文を使用したい開発者、実装の詳細を理解したい開発者

---

#### [constructor_destructor.md](./constructor_destructor.md) - コンストラクタ/デストラクタ
オブジェクトのライフサイクル管理とリソース管理を自動化する機能。

**含まれる内容**:
- 完全な機能仕様と構文（`self`、`~self`）
- コンストラクタ/デストラクタの定義方法
- スコープ管理とデストラクタの自動呼び出し
- コピー/ムーブコンストラクタの仕様
- 配列のサポート
- private メンバーの仕様
- 豊富な実用例
- 実装アーキテクチャ

**対象読者**: RAIIパターンを使用したい開発者、オブジェクト指向プログラミングを実践したい開発者

---

## 🎯 ドキュメントの使い方

### 機能を学ぶ
各ドキュメントには以下が含まれています：
1. **機能仕様** - 何ができるか
2. **使用例** - どう使うか
3. **実装の詳細** - どう動くか
4. **テスト結果** - 動作確認方法

### 機能を使う
```cb
// デフォルトメンバーの例
struct IntBox {
    default int value;
}

IntBox box;
box = 42;        // 暗黙的代入
println(box);    // 暗黙的参照: 42

// defer文の例
void example() {
    defer println("Cleanup");
    println("Work");
}
// 出力: Work → Cleanup
```

### テストを実行する
各ドキュメントにはテスト実行方法が記載されています：

```bash
# デフォルトメンバー
./main tests/cases/default_member/test_suite.cb

# defer文
./main tests/cases/defer/test_defer_basic.cb
```

## 📊 実装状況

| 機能 | ステータス | テスト結果 | ドキュメント |
|------|----------|-----------|------------|
| デフォルトメンバー | ✅ 完了 | 25/25 | [default_member.md](./default_member.md) |
| defer文 | ✅ 完了 | 79/79 | [defer_statement.md](./defer_statement.md) |
| コンストラクタ/デストラクタ | 📝 設計中 | - | [constructor_destructor.md](./constructor_destructor.md) |

## 🔗 関連ドキュメント

### 言語仕様書
- [spec.md](../spec.md) - 完全な言語仕様

### テストケース
- [tests/cases/default_member/](../../tests/cases/default_member/) - デフォルトメンバーのテスト
- [tests/cases/defer/](../../tests/cases/defer/) - defer文のテスト

### 統合テスト
- [tests/integration/default_member/](../../tests/integration/default_member/) - デフォルトメンバー統合テスト
- [tests/integration/defer/](../../tests/integration/defer/) - defer文統合テスト

## 📝 ドキュメント作成ガイドライン

新しい機能のドキュメントを作成する場合は、以下の構成を推奨します：

1. **概要** - 機能の簡潔な説明
2. **機能仕様** - 詳細な仕様と構文
3. **実装された機能** - 何ができるか
4. **テスト結果** - 動作確認結果
5. **使用例** - 実践的なコードサンプル
6. **実装の詳細** - アーキテクチャと技術的特徴
7. **既知の制限事項** - 制限や注意点
8. **テスト実行方法** - テストの実行手順
9. **結論** - まとめ
10. **関連ファイル** - 関連するファイルへのリンク

## 🎉 最新情報

### 2025年10月11日
- ✅ デフォルトメンバー機能のドキュメント作成
- ✅ defer文のドキュメント作成
- ✅ featuresディレクトリ作成
- ✅ コンストラクタ/デストラクタ機能の仕様書作成
  - `self` キーワードによるコンストラクタ定義
  - `~self` によるデストラクタ定義
  - コピー/ムーブコンストラクタの設計
  - private メンバーの仕様
  - 実装計画の詳細化

---

**最終更新**: 2025年10月11日  
**管理者**: Cb開発チーム
