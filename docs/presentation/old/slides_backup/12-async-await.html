<section class="left-align">
  <h2>async / await（TypeScript/Rust風）</h2>

  <div class="info-box">
    <p style="margin: 0">async関数は暗黙的にFutureでラップされるため、明示的な型指定は不要です。</p>
  </div>

  <pre><code class="language-cb"><span class="hljs-keyword">import</span> stdlib.std.time;

<span class="hljs-keyword">async</span> <span class="hljs-type">int</span> fetchData() {
    println(<span class="hljs-string">"Fetching..."</span>);
    <span class="hljs-keyword">await</span> sleep(<span class="hljs-number">1000</span>);  <span class="hljs-comment">// 1秒待機（ノンブロッキング）</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>;
}

<span class="hljs-keyword">async</span> <span class="hljs-type">void</span> processData() {
    println(<span class="hljs-string">"Start"</span>);
    <span class="hljs-type">int</span> result = <span class="hljs-keyword">await</span> fetchData();  <span class="hljs-comment">// 結果を待機</span>
    println(<span class="hljs-string">"Result: "</span> + string(result));
    println(<span class="hljs-string">"Done"</span>);
}

<span class="hljs-type">void</span> main() {
    <span class="hljs-keyword">await</span> processData();
}
</code></pre>

  <p class="small-text" style="margin-top: 0.5em">
    <span class="highlight">await</span>
    で非同期処理を待機。他のタスクをブロックしません。
  </p>
</section>
