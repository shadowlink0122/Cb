<section class="left-align">
  <h2>Interface as Type - 型としてのInterface</h2>
  <div style="width: 95%; margin: 0.3em auto 0">
    <pre style="font-size: 0.42em; margin: 0.3em 0">
  <code class="language-cpp" data-trim data-noescape><span style="color: #6a9955;">// ✅ Cb固有の概念: Interfaceを型として使う</span>
<span style="color: #c586c0; font-weight: bold;">interface</span> <span style="color: #4ec9b0;">Drawable</span> {
    <span style="color: #4ec9b0;">void</span> draw();
}
<span style="color: #c586c0; font-weight: bold;">struct</span> <span style="color: #4ec9b0;">Circle</span> { <span style="color: #4ec9b0;">int</span> radius; };
<span style="color: #c586c0; font-weight: bold;">struct</span> <span style="color: #4ec9b0;">Square</span> { <span style="color: #4ec9b0;">int</span> size; };
<span style="color: #c586c0; font-weight: bold;">impl</span> <span style="color: #4ec9b0;">Drawable</span> <span style="color: #c586c0; font-weight: bold;">for</span> <span style="color: #4ec9b0;">Circle</span> {
    <span style="color: #4ec9b0;">void</span> draw() { println(<span style="color: #ce9178;">"Circle (r={self.<span style="color: #dcdcaa;">radius</span>})"</span>); }
}
<span style="color: #c586c0; font-weight: bold;">impl</span> <span style="color: #4ec9b0;">Drawable</span> <span style="color: #c586c0; font-weight: bold;">for</span> <span style="color: #4ec9b0;">Square</span> {
    <span style="color: #4ec9b0;">void</span> draw() { println(<span style="color: #ce9178;">"Square (s={self.<span style="color: #dcdcaa;">size</span>})"</span>); }
}
<span style="color: #6a9955;">// Interfaceを引数の型として使う（ポリモーフィズム）</span>
<span style="color: #4ec9b0;">void</span> render(<span style="color: #4ec9b0;">Drawable</span>* obj) {  <span style="color: #6a9955;">// ← Interface境界</span>
    obj->draw();  <span style="color: #6a9955;">// 動的ディスパッチ</span>
}
<span style="color: #4ec9b0;">void</span> main() {
    <span style="color: #4ec9b0;">Circle</span> c; c.<span style="color: #dcdcaa;">radius</span> = <span style="color: #b5cea8;">10</span>;
    <span style="color: #4ec9b0;">Square</span> s; s.<span style="color: #dcdcaa;">size</span> = <span style="color: #b5cea8;">20</span>;
    render(&c);  <span style="color: #6a9955;">// Circle (r=10)</span>
    render(&s);  <span style="color: #6a9955;">// Square (s=20)</span>
}</code></pre>
    <p class="fragment" style="font-size: 0.65em; margin-top: 0.3em">
      <strong class="success">利点</strong>
      : Interfaceを実装した任意の型を統一的に扱える（動的ディスパッチ）
    </p>
  </div>
</section>
