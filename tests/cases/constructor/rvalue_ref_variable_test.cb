// ムーブコンストラクタがない構造体での右辺値参照テスト

struct SimplePoint {
    int x;
    int y;
};

impl SimplePoint {
    self(int px, int py) {
        self.x = px;
        self.y = py;
        println("[DEBUG] Constructor: (", px, ", ", py, ")");
    }
    
    // コピーコンストラクタのみ（ムーブコンストラクタなし）
    self(const SimplePoint& other) {
        self.x = other.x;
        self.y = other.y;
        println("[DEBUG] Copy constructor");
    }
    
    ~self() {
        println("[DEBUG] Destructor: (", self.x, ", ", self.y, ")");
    }
}

void main() {
    println("=== Rvalue Reference Variable Test ===");
    
    println("\n1. 通常のmove（フォールバック）:");
    SimplePoint p1(10, 20);
    SimplePoint p2 = move(p1);
    println("   p1: (", p1.x, ", ", p1.y, ")");
    println("   p2: (", p2.x, ", ", p2.y, ")");
    
    // 注: 右辺値参照型の変数宣言は現在未実装の可能性あり
    // println("\n2. 右辺値参照型変数:");
    // SimplePoint&& p3 = move(p1);
}
