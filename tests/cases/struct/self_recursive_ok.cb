// 自己再帰構造体の正しい使い方: ポインタ経由

struct Node {
    int value;
    Node* next;  // ✅ OK: ポインタなら自己参照可能
};

int main() {
    Node n1;
    n1.value = 1;
    n1.next = 0;
    
    Node n2;
    n2.value = 2;
    n2.next = &n1;
    
    Node n3;
    n3.value = 3;
    n3.next = &n2;
    
    // リストの走査
    Node* current = &n3;
    int sum = 0;
    while (current != 0) {
        println("Node value: ", current->value);
        sum = sum + current->value;
        current = current->next;
    }
    
    println("Sum: ", sum);
    assert(sum == 6);
    
    return 0;
}
