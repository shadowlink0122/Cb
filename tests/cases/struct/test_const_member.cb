// 構造体メンバのconst対応テスト（Rustのnot mutと同等）

struct Config {
    const int max_connections;
    int current_connections;
    const string server_name;
};

int main() {
    println("=== Struct Const Member Test ===");
    
    // 構造体リテラル初期化（constメンバも初期化可能）
    Config config;
    config = {
        max_connections: 100,
        current_connections: 0,
        server_name: "MainServer"
    };
    
    println("Initial values:");
    println("  max_connections:", config.max_connections);
    println("  current_connections:", config.current_connections);
    println("  server_name:", config.server_name);
    
    // 通常のメンバは再代入可能
    config.current_connections = 50;
    println("\nAfter updating current_connections:");
    println("  current_connections:", config.current_connections);
    
    // constメンバへの代入を試みる（エラーになるべき）
    println("\nAttempting to modify const member...");
    config.max_connections = 200;  // これはエラーになるべき
    
    println("This line should not be reached!");
    return 1;
}
