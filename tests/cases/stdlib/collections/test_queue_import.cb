// Test for Queue<T> library import and usage
// This test verifies that generic Queue can be imported and used as a library

import "stdlib/collections/queue.cb";

int main() {
    println("╔════════════════════════════════════════════╗");
    println("║  Queue<T> Library Import Test             ║");
    println("╚════════════════════════════════════════════╝\n");
    
    // All tests using a single Queue variable
    println("=== Test: Queue<int> Import ===");
    Queue<int> q;
    println("✅ Queue<int> import and struct creation successful");
    
    println("\n=== Test: Queue<int> Basic Operations ===");
    q.enqueue(10);
    q.enqueue(20);
    q.enqueue(30);
    
    if (q.size() == 3) {
        println("✅ Queue<int> enqueue operations work");
    }
    
    int val = q.dequeue();
    if (val == 10 && q.size() == 2) {
        println("✅ Queue<int> dequeue operations work");
    }
    
    int peek_val = q.peek();
    if (peek_val == 20 && q.size() == 2) {
        println("✅ Queue<int> peek operations work");
    }
    
    println("\n=== Test: Queue<int> Dynamic Size ===");
    // Clear the queue first
    q.clear();
    
    q.enqueue(1);
    q.enqueue(2);
    q.enqueue(3);
    q.enqueue(4);
    q.enqueue(5);
    
    int size = q.size();
    if (size == 5) {
        println("✅ Queue<int> dynamic size works (no capacity limit)");
    }
    
    println("\n=== Test: Queue<int> FIFO Order ===");
    q.clear();
    
    q.enqueue(10);
    q.enqueue(20);
    q.enqueue(30);
    
    int v1 = q.dequeue();
    int v2 = q.dequeue();
    
    q.enqueue(40);
    q.enqueue(50);
    
    int v3 = q.dequeue();
    
    if (v1 == 10 && v2 == 20 && v3 == 30 && q.size() == 2) {
        println("✅ Queue<int> FIFO order maintained");
    }
    
    println("\n=== Test: Queue<int> Destructor ===");
    q.clear();
    q.enqueue(10);
    q.enqueue(20);
    println("✅ Queue<int> destructor works (no crash on scope exit)");
    
    println("\n╔════════════════════════════════════════════╗");
    println("║  All Queue<int> library tests passed!     ║");
    println("╚════════════════════════════════════════════╝");
    
    return 0;
}
