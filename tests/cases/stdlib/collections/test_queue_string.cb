// Queue<string>ã®ãƒ†ã‚¹ãƒˆ
import "stdlib/collections/queue.cb";

int main() {
    println("=== Queue<string> Tests ===\n");
    
    // 1. ä½œæˆ
    Queue<string> queue;
    println("âœ… Queue<string> created");
    
    // 2. enqueueæ“ä½œ
    queue.enqueue("First");
    queue.enqueue("Second");
    queue.enqueue("Third");
    println("âœ… Enqueued 3 strings");
    
    // 3. peekæ“ä½œ
    string peeked = queue.peek();
    if (peeked == "First") {
        println("âœ… Peek works: '{peeked}'");
    } else {
        println("âŒ Peek failed");
        queue.clear();
        return 1;
    }
    
    // 4. dequeueæ“ä½œ
    string first = queue.dequeue();
    if (first == "First") {
        println("âœ… Dequeued correct value: '{first}'");
    } else {
        println("âŒ Dequeue failed");
        queue.clear();
        return 1;
    }
    
    // 5. ã‚µã‚¤ã‚ºç¢ºèª
    int size = queue.size();
    if (size == 2) {
        println("âœ… Size after dequeue is correct: {size}");
    } else {
        println("âŒ Size is incorrect: {size}");
        queue.destroy();
        return 1;
    }
    
    // 6. FIFOé †åºã®ãƒ†ã‚¹ãƒˆ
    queue.enqueue("Fourth");
    queue.enqueue("Fifth");
    println("âœ… Enqueued 2 more strings");
    
    string second = queue.dequeue();
    string third = queue.dequeue();
    
    if (second == "Second" && third == "Third") {
        println("âœ… FIFO order works correctly");
    } else {
        println("âŒ FIFO order failed");
        queue.destroy();
        return 1;
    }
    
    // 7. æ®‹ã‚Šã®è¦ç´ ç¢ºèª
    string fourth = queue.dequeue();
    string fifth = queue.dequeue();
    
    if (fourth == "Fourth" && fifth == "Fifth") {
        println("âœ… All elements dequeued correctly");
    } else {
        println("âŒ Element order corrupted");
        queue.destroy();
        return 1;
    }
    
    // 8. ç©ºãƒã‚§ãƒƒã‚¯
    bool empty = queue.is_empty();
    if (empty) {
        println("âœ… Queue is empty after all dequeues");
    } else {
        println("âŒ Queue should be empty");
        queue.destroy();
        return 1;
    }
    
    // 9. é•·ã„æ–‡å­—åˆ—ã®ãƒ†ã‚¹ãƒˆ
    queue.enqueue("This is a very long string with many characters!");
    string long_str = queue.dequeue();
    if (long_str == "This is a very long string with many characters!") {
        println("âœ… Long string handling works");
    } else {
        println("âŒ Long string handling failed");
        queue.destroy();
        return 1;
    }
    
    // 10. ç©ºæ–‡å­—åˆ—ã®ãƒ†ã‚¹ãƒˆ
    queue.enqueue("");
    string empty_str = queue.dequeue();
    if (empty_str == "") {
        println("âœ… Empty string handling works");
    } else {
        println("âŒ Empty string handling failed");
        queue.destroy();
        return 1;
    }
    
    // 11. è¤‡æ•°è¦ç´ ã®ãƒ†ã‚¹ãƒˆ
    println("\n--- Multiple Elements Test ---");
    queue.enqueue("A");
    queue.enqueue("B");
    queue.enqueue("C");
    queue.enqueue("D");
    queue.enqueue("E");
    
    int final_size = queue.size();
    if (final_size == 5) {
        println("âœ… Size is correct: {final_size}");
    } else {
        println("âŒ Size is incorrect: {final_size}");
        queue.destroy();
        return 1;
    }
    
    // å…¨è¦ç´ ã‚’å–ã‚Šå‡ºã—ã¦ç¢ºèª
    string a = queue.dequeue();
    string b = queue.dequeue();
    string c = queue.dequeue();
    string d = queue.dequeue();
    string e = queue.dequeue();
    
    bool order_ok = a == "A" && b == "B" && c == "C" && d == "D" && e == "E";
    if (order_ok) {
        println("âœ… Element order preserved");
    } else {
        println("âŒ Element order corrupted");
        queue.destroy();
        return 1;
    }
    
    // 12. ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    queue.destroy();
    println("âœ… Queue destroyed");
    
    println("\nğŸ‰ All Queue<string> Tests Passed!");
    return 0;
}
