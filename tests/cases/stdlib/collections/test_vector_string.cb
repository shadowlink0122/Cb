// Vector<string>ã®ãƒ†ã‚¹ãƒˆ
import "stdlib/collections/vector.cb";

int main() {
    println("=== Vector<string> Tests ===");
    
    // 1. åŸºæœ¬çš„ãªåˆæœŸåŒ–ã¨push
    Vector<string> vec;
    vec.init(4);
    println("âœ… Vector<string> initialized");
    
    // 2. pushæ“ä½œ
    vec.push("Hello");
    vec.push("World");
    vec.push("Cb");
    println("âœ… Pushed 3 strings: 'Hello', 'World', 'Cb'");
    
    // 3. getæ“ä½œ
    string s0 = vec.get(0);
    string s1 = vec.get(1);
    string s2 = vec.get(2);
    
    println("Retrieved strings from vector:");
    println("  s0 = '{s0}'");
    println("  s1 = '{s1}'");
    println("  s2 = '{s2}'");
    
    // å€¤ã®æ¤œè¨¼
    if (s0 == "Hello") {
        println("âœ… s0 is correct ('Hello')");
    } else {
        println("âŒ s0 is incorrect");
        return 1;
    }
    
    if (s1 == "World") {
        println("âœ… s1 is correct ('World')");
    } else {
        println("âŒ s1 is incorrect");
        return 1;
    }
    
    if (s2 == "Cb") {
        println("âœ… s2 is correct ('Cb')");
    } else {
        println("âŒ s2 is incorrect");
        return 1;
    }
    
    // 4. sizeç¢ºèª
    int size = vec.get_length();
    println("Checking vector size");
    if (size == 3) {
        println("âœ… Size is correct (3)");
    } else {
        println("âŒ Size is incorrect: {size}");
        return 1;
    }
    
    // 5. popæ“ä½œ
    string popped = vec.pop();
    println("Popped value from vector");
    if (popped == "Cb") {
        println("âœ… Popped correct value ('Cb')");
    } else {
        println("âŒ Popped incorrect value: '{popped}'");
        return 1;
    }
    
    int new_size = vec.get_length();
    if (new_size == 2) {
        println("âœ… Size after pop is correct (2)");
    } else {
        println("âŒ Size after pop is incorrect: {new_size}");
        return 1;
    }
    
    // 6. ç©ºæ–‡å­—åˆ—ã®ãƒ†ã‚¹ãƒˆ
    vec.push("");
    string empty = vec.get(2);
    if (empty == "") {
        println("âœ… Empty string handling works");
    } else {
        println("âŒ Empty string handling failed");
        return 1;
    }
    
    // 7. é•·ã„æ–‡å­—åˆ—ã®ãƒ†ã‚¹ãƒˆ
    vec.push("This is a longer string with spaces and symbols!@#$%");
    string long_str = vec.get(3);
    if (long_str == "This is a longer string with spaces and symbols!@#$%") {
        println("âœ… Long string handling works");
    } else {
        println("âŒ Long string handling failed");
        return 1;
    }
    
    // 8. è¤‡æ•°pushå¾Œã®get
    int final_size = vec.get_length();
    println("Final vector size: {final_size}");
    if (final_size == 4) {
        println("âœ… Final size is correct (4)");
    } else {
        println("âŒ Final size is incorrect");
        return 1;
    }
    
    // 9. å…¨è¦ç´ ã®ç¢ºèª
    string check0 = vec.get(0);
    string check1 = vec.get(1);
    string check2 = vec.get(2);
    string check3 = vec.get(3);
    
    bool all_correct = true;
    if (check0 != "Hello") {
        println("âŒ Index 0 corrupted: '{check0}'");
        all_correct = false;
    }
    if (check1 != "World") {
        println("âŒ Index 1 corrupted: '{check1}'");
        all_correct = false;
    }
    if (check2 != "") {
        println("âŒ Index 2 corrupted: '{check2}'");
        all_correct = false;
    }
    if (check3 != "This is a longer string with spaces and symbols!@#$%") {
        println("âŒ Index 3 corrupted: '{check3}'");
        all_correct = false;
    }
    
    if (all_correct) {
        println("âœ… All elements remain intact after multiple operations");
    } else {
        return 1;
    }
    
    // 10. destroyæ“ä½œ
    vec.destroy();
    println("âœ… Vector destroyed");
    
    println("\nğŸ‰ All Vector<string> Tests Passed!");
    return 0;
}
