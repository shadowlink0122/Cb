// シンプルなself経由ネストメンバアクセステスト

struct Point {
    int x;
    int y;
};

struct Box {
    Point topLeft;
};

interface Test {
    int getX();
    void setX(int value);
};

impl Test for Box {
    int getX() {
        println("Getting self.topLeft.x");
        return self.topLeft.x;
    }
    
    void setX(int value) {
        println("Setting self.topLeft.x");
        self.topLeft.x = value;
    }
};

int main() {
    Box box1;
    box1.topLeft.x = 42;
    box1.topLeft.y = 100;
    
    println("Direct access to box1.topLeft.x:");
    println(box1.topLeft.x);  // Should print 42
    
    println("");
    println("Via interface method:");
    int x = box1.getX();
    println(x);  // Should also print 42
    
    println("");
    println("Setting via interface:");
    box1.setX(99);
    println("After set:");
    println(box1.topLeft.x);  // Should print 99
    
    return 0;
}
