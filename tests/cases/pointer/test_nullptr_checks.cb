// nullptrの動作をテスト

int main() {
    // テスト1: nullptr初期化
    int* ptr1 = nullptr;
    println("Test 1: nullptr initialization");
    println("ptr1 == nullptr (represented as 0)");
    
    // テスト2: nullptrへの再代入
    int x = 42;
    int* ptr2 = &x;
    println("");
    println("Test 2: Reassignment to nullptr");
    println("Before: *ptr2 = %d", *ptr2);
    
    ptr2 = nullptr;
    println("After ptr2 = nullptr (pointer now points to null)");
    
    // テスト3: 複数のnullptrポインタ
    int* p1 = nullptr;
    int* p2 = nullptr;
    int* p3 = nullptr;
    println("");
    println("Test 3: Multiple nullptr pointers");
    println("All pointers initialized to nullptr");
    
    int a = 10;
    int b = 20;
    int c = 30;
    
    p1 = &a;
    p2 = &b;
    p3 = &c;
    
    println("After assignment:");
    println("*p1 = %d, *p2 = %d, *p3 = %d", *p1, *p2, *p3);
    
    // テスト4: ダブルポインタとnullptr
    int** pp = nullptr;
    println("");
    println("Test 4: Double pointer with nullptr");
    println("Double pointer initialized to nullptr");
    
    int value = 100;
    int* pv = &value;
    pp = &pv;
    
    println("After assignment:");
    println("**pp = %d", **pp);
    
    return 0;
}
