// Test 8: Nested generic with bounds
// Note: Type parameter propagation (Box<T, A>) not yet supported
// Using concrete types for nested generics

interface Allocator {
    void* allocate(int size);
    void deallocate(void* ptr);
}

struct SystemAllocator {};

impl Allocator for SystemAllocator {
    void* allocate(int size) {
        return nullptr;
    }
    
    void deallocate(void* ptr) {
        // no-op
    }
}

struct Box<T, A: Allocator> {
    int value;
};

struct Container<T, A: Allocator> {
    Box<int, SystemAllocator> inner;  // 具体的な型を使用
};

void main() {
    Container<int, SystemAllocator> c;
    c.inner.value = 42;
    println("Nested generic with bounds: value={c.inner.value}");
}
