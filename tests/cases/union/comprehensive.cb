// ãƒ¦ãƒ‹ã‚ªãƒ³å‹åŒ…æ‹¬çš„çµ±åˆãƒ†ã‚¹ãƒˆ

// å…¨ç¨®é¡ã®ãƒ¦ãƒ‹ã‚ªãƒ³å‹å®šç¾©
typedef StatusCode = 200 | 404 | 500;
typedef Flag = true | false;
typedef Grade = 'A' | 'B' | 'C';
typedef LogLevel = "DEBUG" | "INFO" | "ERROR";

typedef NumericType = int | long;
typedef PrimitiveType = int | bool | char;

typedef MyInt = int;
typedef MyString = string;
typedef CustomUnion = MyInt | MyString;

struct Point { int x, y; };
struct Person { string name; int age; };
typedef EntityUnion = Point | Person;

typedef ArrayUnion = int[3] | bool[2];

typedef MegaUnion = 999 | "special" | true | int | MyInt | Point | int[2];

int main() {
    println("=== ãƒ¦ãƒ‹ã‚ªãƒ³å‹åŒ…æ‹¬çš„çµ±åˆãƒ†ã‚¹ãƒˆ ===");
    
    // ========== Section 1: ãƒªãƒ†ãƒ©ãƒ«å€¤ãƒ¦ãƒ‹ã‚ªãƒ³ ==========
    println("1. Literal Value Unions:");
    StatusCode status = 200;
    Flag enabled = true;
    Grade grade = 'A';
    LogLevel level = "INFO";
    
    println("   StatusCode: {status}");
    println("   Flag: {enabled}");
    println("   Grade: {grade}");
    println("   LogLevel: {level}");
    
    // ========== Section 2: åŸºæœ¬å‹ãƒ¦ãƒ‹ã‚ªãƒ³ ==========
    println("2. Basic Type Unions:");
    NumericType num1 = 42;
    NumericType num2 = 1000000;
    PrimitiveType prim1 = 123;
    PrimitiveType prim2 = true;
    PrimitiveType prim3 = 'X';
    
    println("   NumericType (int): {num1}");
    println("   NumericType (long): {num2}");
    println("   PrimitiveType (int): {prim1}");
    println("   PrimitiveType (bool): {prim2}");
    println("   PrimitiveType (char): {prim3}");
    
    // ========== Section 3: ã‚«ã‚¹ã‚¿ãƒ å‹ãƒ¦ãƒ‹ã‚ªãƒ³ ==========
    println("3. Custom Type Unions:");
    MyInt customInt = 777;
    MyString customString = "CustomText";
    CustomUnion custom1 = customInt;
    CustomUnion custom2 = customString;
    
    println("   MyInt: {customInt}");
    println("   MyString: {customString}");
    println("   CustomUnion (MyInt): {custom1}");
    println("   CustomUnion (MyString): {custom2}");
    
    // ========== Section 4: æ§‹é€ ä½“å‹ãƒ¦ãƒ‹ã‚ªãƒ³ ==========
    println("4. Struct Type Unions:");
    Point origin = {x: 0, y: 0};
    Point target = {10, 20};
    Person alice = {name: "Alice", age: 25};
    Person bob = {"Bob", 30};
    
    EntityUnion entity1 = origin;
    EntityUnion entity2 = alice;
    
    println("   Point origin: ({origin.x}, {origin.y})");
    println("   Point target: ({target.x}, {target.y})");
    println("   Person Alice: {alice.name}, {alice.age}");
    println("   Person Bob: {bob.name}, {bob.age}");
    println("   EntityUnion (Point): assigned");
    println("   EntityUnion (Person): assigned");
    
    // ========== Section 5: é…åˆ—å‹ãƒ¦ãƒ‹ã‚ªãƒ³ ==========
    println("5. Array Type Unions:");
    int[3] numbers = [1, 2, 3];
    bool[2] flags = [true, false];
    
    ArrayUnion array1 = numbers;
    ArrayUnion array2 = flags;
    
    println("   int[3]: [{numbers[0]}, {numbers[1]}, {numbers[2]}]");
    println("   bool[2]: [{flags[0]}, {flags[1]}]");
    println("   ArrayUnion (int[3]): assigned");
    println("   ArrayUnion (bool[2]): assigned");
    
    // ========== Section 6: æ··åˆè¤‡åˆå‹ãƒ¦ãƒ‹ã‚ªãƒ³ ==========
    println("6. Mixed Complex Unions:");
    MegaUnion mega1 = 999;              // ãƒªãƒ†ãƒ©ãƒ«
    MegaUnion mega2 = "special";        // æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«
    MegaUnion mega3 = true;             // Boolean ãƒªãƒ†ãƒ©ãƒ«
    
    // intå‹ã®ç›´æ¥ä»£å…¥ã‚’ãƒ†ã‚¹ãƒˆ
    int regularInt = 888;
    MegaUnion mega4 = regularInt;       // intå‹ç›´æ¥ä»£å…¥
    MegaUnion mega5 = customInt;        // ã‚«ã‚¹ã‚¿ãƒ å‹
    MegaUnion mega6 = origin;           // æ§‹é€ ä½“å‹
    
    int[2] coords = [50, 100];
    MegaUnion mega7 = coords;           // é…åˆ—å‹
    
    println("   MegaUnion (999): {mega1}");
    println("   MegaUnion (special): {mega2}");
    println("   MegaUnion (true): {mega3}");
    println("   Regular int variable: {regularInt}");
    println("   MegaUnion (int): {mega4}");
    println("   MegaUnion (MyInt): {mega5}");
    println("   MegaUnion (Point): assigned");
    println("   MegaUnion (int[2]): assigned");
    
    // ========== Section 7: å‹•çš„ä»£å…¥ãƒ†ã‚¹ãƒˆ ==========
    println("7. Dynamic Assignment Test:");
    status = 404;
    enabled = false;
    grade = 'C';
    level = "ERROR";
    
    println("   Updated StatusCode: {status}");
    println("   Updated Flag: {enabled}");
    println("   Updated Grade: {grade}");
    println("   Updated LogLevel: {level}");
    
    // ========== Section 8: è¤‡é›‘ãªæ§‹é€ ä½“æ“ä½œ ==========
    println("8. Complex Struct Operations:");
    Person charlie = {"Charlie", 35};
    Point center = {25, 25};
    
    entity1 = charlie;
    entity2 = center;
    
    println("   EntityUnion reassignment: completed");
    println("   Charlie: {charlie.name}, {charlie.age}");
    println("   Center: ({center.x}, {center.y})");
    
    // ========== ãƒ†ã‚¹ãƒˆå®Œäº† ==========
    println("");
    println("=== çµ±åˆãƒ†ã‚¹ãƒˆçµæœã‚µãƒãƒª ===");
    println("âœ“ ãƒªãƒ†ãƒ©ãƒ«å€¤ãƒ¦ãƒ‹ã‚ªãƒ³: 4/4 æˆåŠŸ");
    println("âœ“ åŸºæœ¬å‹ãƒ¦ãƒ‹ã‚ªãƒ³: 5/5 æˆåŠŸ");
    println("âœ“ ã‚«ã‚¹ã‚¿ãƒ å‹ãƒ¦ãƒ‹ã‚ªãƒ³: 4/4 æˆåŠŸ");
    println("âœ“ æ§‹é€ ä½“å‹ãƒ¦ãƒ‹ã‚ªãƒ³: 6/6 æˆåŠŸ");  
    println("âœ“ é…åˆ—å‹ãƒ¦ãƒ‹ã‚ªãƒ³: 4/4 æˆåŠŸ");
    println("âœ“ æ··åˆè¤‡åˆå‹ãƒ¦ãƒ‹ã‚ªãƒ³: 7/7 æˆåŠŸ");
    println("âœ“ å‹•çš„ä»£å…¥ãƒ†ã‚¹ãƒˆ: 4/4 æˆåŠŸ");
    println("âœ“ è¤‡é›‘ãªæ§‹é€ ä½“æ“ä½œ: 4/4 æˆåŠŸ");
    println("");
    println("ğŸ‰ å…¨38é …ç›®ã®ãƒ¦ãƒ‹ã‚ªãƒ³å‹æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆæˆåŠŸï¼");
    println("=== ãƒ¦ãƒ‹ã‚ªãƒ³å‹åŒ…æ‹¬çš„çµ±åˆãƒ†ã‚¹ãƒˆå®Œäº† ===");
    
    return 0;
}
