// デフォルトメンバーのunion型テスト

// 1. Union型の定義 (リテラル値)
typedef Status = 200 | 404 | 500;

struct StatusWrapper {
    default Status code;
};

// 2. Union型の定義 (型)
typedef Uni = int | string;

struct UniWrapper {
    default Uni value;
};

void main() {
    println("=== union型(リテラル値)テスト ===");
    StatusWrapper sw = {200};
    println(sw);           // 200
    
    sw = 404;
    println(sw);           // 404
    println(sw.code);      // 404
    
    sw = 500;
    println(sw);           // 500
    
    println("\n=== union型(int|string)テスト ===");
    UniWrapper uw = {42};
    println(uw);           // 42
    
    uw = 100;
    println(uw);           // 100
    println(uw.value);     // 100
    
    // 文字列への変更
    uw.value = "Hello";
    println(uw.value);     // Hello
}
