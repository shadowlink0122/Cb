// デフォルトメンバーのtypedefとenumテスト

// 1. typedef型のデフォルトメンバー
typedef int Integer;
typedef string Text;

struct IntegerWrapper {
    default Integer value;
};

struct TextWrapper {
    default Text value;
};

// 2. enum型のデフォルトメンバー
enum Color {
    RED,
    GREEN,
    BLUE
};

struct ColorWrapper {
    default Color value;
};

// 3. 再帰的typedef
typedef int Level1;
typedef Level1 Level2;
typedef Level2 Level3;

struct RecursiveWrapper {
    default Level3 value;
};

void main() {
    println("=== typedef整数型テスト ===");
    IntegerWrapper iw = {42};
    println(iw);          // 42
    iw = 100;
    println(iw);          // 100
    
    println("\n=== typedef文字列型テスト ===");
    TextWrapper tw = {"Hello"};
    println(tw);          // Hello
    tw = "World";
    println(tw);          // World
    
    println("\n=== enum型テスト ===");
    ColorWrapper cw = {1};
    println(cw);          // 1
    cw = 2;
    println(cw);          // 2
    println(cw.value);    // 2
    
    println("\n=== 再帰的typedef型テスト ===");
    RecursiveWrapper rw = {999};
    println(rw);          // 999
    rw = 777;
    println(rw);          // 777
}
