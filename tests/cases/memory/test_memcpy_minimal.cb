// test_memcpy_minimal.cb
// memcpy組み込み関数の最小テスト

struct Point {
    int x;
    int y;
};

int main() {
    println("=== Minimal memcpy test ===");
    
    Point* src = new Point;
    println("Created src");
    
    src->x = 100;
    src->y = 200;
    println("Set src values: x={src->x}, y={src->y}");
    
    Point* dest = new Point;
    println("Created dest");
    println("dest initial values: x={dest->x}, y={dest->y}");
    
    int size = sizeof(Point);
    println("Size of Point: {size} bytes");
    
    println("Calling memcpy//.");
    void* result = memcpy(dest, src, size);
    println("memcpy returned: {hex(result)}");
    
    println("After memcpy:");
    println("  dest: x={dest->x}, y={dest->y}");
    
    delete src;
    delete dest;
    
    println("Test complete");
    return 0;
}
