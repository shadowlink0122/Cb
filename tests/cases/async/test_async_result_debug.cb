async Future<Result<int, string>> async_get_result() {
    Result<int, string> r = Result<int, string>::Ok(42);
    println("In async function, variant: {r.variant}");
    return r;
}

void main() {
    Future<Result<int, string>> f = async_get_result();
    Result<int, string> r = await f;
    println("After await, variant: {r.variant}");
    
    match (r) {
        Ok(value) => {
            println("Ok: {value}");
        }
        Err(msg) => {
            println("Err: {msg}");
        }
    }
}
