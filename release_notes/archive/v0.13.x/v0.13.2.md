# Cbè¨€èª v0.13.2 ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ

**ãƒªãƒªãƒ¼ã‚¹æ—¥**: 2025å¹´11æœˆ16æ—¥  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… Released

---

## ğŸ¯ ãƒã‚¤ãƒ©ã‚¤ãƒˆ

- **Genericé…åˆ—ã§ã®æ–‡å­—åˆ—å‹ã®ãƒã‚°ä¿®æ­£** â€” `Container<string>`ã®ã‚ˆã†ãªæ§‹é€ ä½“ã®ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é…åˆ—ãƒ¡ãƒ³ãƒãƒ¼ã§ã€æ–‡å­—åˆ—ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
- **Asyncãƒ©ãƒ ãƒ€å¼ã®å®Œå…¨ã‚µãƒãƒ¼ãƒˆ** â€” v0.13.1ã§å°å…¥ã•ã‚ŒãŸasyncãƒ©ãƒ ãƒ€å¼ãŒã€è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ãã§å®Œå…¨ã«å‹•ä½œã—ã¾ã™ã€‚
- **åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã®è¿½åŠ ** â€” v0.13.2ã®å…¨æ©Ÿèƒ½ã‚’æ¤œè¨¼ã™ã‚‹å°‚ç”¨ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã‚’è¿½åŠ ã—ã€ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã‚’é˜²æ­¢ã—ã¾ã™ã€‚

---

## ğŸ ãƒã‚°ä¿®æ­£

| ID | å†…å®¹ | è©³ç´° |
|----|------|------|
| `GEN-201` | Genericé…åˆ—ã§æ–‡å­—åˆ—å‹ã‚’ä½¿ç”¨ã™ã‚‹ã¨"0"ãŒè¡¨ç¤ºã•ã‚Œã‚‹ | æ§‹é€ ä½“ãƒ¡ãƒ³ãƒãƒ¼é…åˆ—ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã®å‹åˆ¤å®šã‚’æ”¹å–„ã€‚å‹æ¨è«–ã«é ¼ã‚‰ãšå®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ |

### ä¿®æ­£ã®è©³ç´°

**å•é¡Œã®ç—‡çŠ¶:**
```cb
struct Container<T> {
    T[5] items;
};

Container<string> cs;
cs.items[0] = "Hello";
println("{cs.items[0]}");  // "Hello"ã§ã¯ãªã"0"ãŒè¡¨ç¤ºã•ã‚Œã‚‹
```

**æ ¹æœ¬åŸå› :**
1. å‹æ¨è«–ãŒ`TYPE_UNKNOWN`ã‚’è¿”ã—ã¦ã„ãŸ
2. æ–‡å­—åˆ—é…åˆ—ã®åˆ¤å®šãŒå‹æ¨è«–ã«ä¾å­˜ã—ã¦ã„ãŸãŸã‚ã€æ­£ã—ãå‡¦ç†ã•ã‚Œãªã‹ã£ãŸ
3. `array_strings`ã®å­˜åœ¨ã ã‘ã§åˆ¤å®šã—ã¦ã„ãŸãŸã‚ã€inté…åˆ—ã‚‚èª¤ã£ã¦æ–‡å­—åˆ—é…åˆ—ã¨ã—ã¦æ‰±ã‚ã‚ŒãŸ

**ä¿®æ­£å†…å®¹:**
- `src/backend/interpreter/evaluator/core/evaluator.cpp` (è¡Œ950-1018)
  - æ§‹é€ ä½“ãƒ¡ãƒ³ãƒãƒ¼é…åˆ—ã‚¢ã‚¯ã‚»ã‚¹ã®å‹åˆ¤å®šã‚’æ”¹å–„
  - å‹æ¨è«–ã«é ¼ã‚‰ãšã€å®Ÿéš›ã®`Variable`ã®çŠ¶æ…‹ã‚’ç¢ºèª
  - æ–‡å­—åˆ—é…åˆ—ã®åˆ¤å®šã‚’2æ®µéšã§å®Ÿè£…ï¼š
    1. æ˜ç¤ºçš„ãªå‹ãƒãƒ¼ã‚«ãƒ¼ï¼ˆ`type == TYPE_STRING`ãªã©ï¼‰
    2. å®Ÿéš›ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½ç½®ã«æ–‡å­—åˆ—ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª

- `src/backend/interpreter/managers/structs/operations.cpp` (è¡Œ823-850)
  - `is_string_array_type`é–¢æ•°ã«`array_strings`ã®ãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ 
  - ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹ã§ã‚‚æ­£ã—ãæ–‡å­—åˆ—é…åˆ—ã¨ã—ã¦èªè­˜

**ãƒ†ã‚¹ãƒˆçµæœ:**
- âœ… `Container<int>`: æ­£ã—ãæ•´æ•°å€¤ã‚’è¡¨ç¤º
- âœ… `Container<string>`: æ­£ã—ãæ–‡å­—åˆ—ã‚’è¡¨ç¤º
- âœ… `Container<double>`: æ­£ã—ãæµ®å‹•å°æ•°ç‚¹æ•°ã‚’è¡¨ç¤º

---

## âœ… ãƒ†ã‚¹ãƒˆ

### v0.13.2å°‚ç”¨ãƒ†ã‚¹ãƒˆ

| ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ | çµæœ |
|--------------|------|------|
| `tests/cases/v0.13.2/test_comprehensive.cb` | Asyncãƒ©ãƒ ãƒ€ã€Genericé…åˆ—ã€æ··åˆå‹ã®åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆ | PASS âœ… |
| `tests/cases/v0.13.2/test_edge_cases.cb` | ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ï¼ˆç©ºæ–‡å­—åˆ—ã€å¢ƒç•Œã‚¢ã‚¯ã‚»ã‚¹ãªã©ï¼‰ | PASS âœ… |

### æ—¢å­˜ãƒ†ã‚¹ãƒˆã®ç¶™ç¶šæ€§

| ã‚«ãƒ†ã‚´ãƒª | ãƒ†ã‚¹ãƒˆ | çµæœ |
|----------|--------|------|
| Async Lambda | `tests/cases/async/test_async_lambda_basic.cb` | PASS âœ… |
| Async Lambda | `tests/cases/async/test_async_lambda_complex.cb` | PASS âœ… |
| Async Lambda | `tests/cases/async/test_async_lambda_params.cb` | PASS âœ… |
| Full Test Suite | `make test` (33 tests, 4 suites) | PASS âœ… |

### å°‚ç”¨ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼

```bash
# v0.13.2ã®å…¨ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
./tests/cases/v0.13.2/run_tests.sh
```

å‡ºåŠ›ä¾‹ï¼š
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         Cb v0.13.2 Comprehensive Test Suite              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

=== Core v0.13.2 Features ===
[1] Testing Async Lambda - Basic... âœ… PASS
[2] Testing Async Lambda - Complex... âœ… PASS
[3] Testing Async Lambda - Parameters... âœ… PASS
[4] Testing v0.13.2 - Comprehensive... âœ… PASS
[5] Testing v0.13.2 - Edge Cases... âœ… PASS

=== Regression Tests ===
[6] Running full test suite... âœ… PASS

â•‘  ğŸ‰ All v0.13.2 Tests Passed Successfully! ğŸ‰            â•‘
```

---

## ğŸ†• æ–°æ©Ÿèƒ½ & æ”¹å–„

### Asyncãƒ©ãƒ ãƒ€å¼ï¼ˆv0.13.1ã‹ã‚‰ç¶™ç¶šï¼‰

v0.13.1ã§å°å…¥ã•ã‚ŒãŸasyncãƒ©ãƒ ãƒ€å¼ãŒå®‰å®šã—ã¦å‹•ä½œã—ã¾ã™ï¼š

```cb
// åŸºæœ¬çš„ãªasyncãƒ©ãƒ ãƒ€
auto add = async int func(int a, int b) {
    return a + b;
};

int result = await add(10, 20);  // 30

// è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒã¤asyncãƒ©ãƒ ãƒ€
auto factorial = async int func(int n) {
    if (n <= 1) return 1;
    int result = 1;
    int i = 2;
    while (i <= n) {
        result = result * i;
        i = i + 1;
    }
    return result;
};

int fact5 = await factorial(5);  // 120
```

### Genericå‹ã®å®Œå…¨ã‚µãƒãƒ¼ãƒˆ

Genericæ§‹é€ ä½“ã®é…åˆ—ãƒ¡ãƒ³ãƒãƒ¼ãŒå…¨ã¦ã®å‹ã§æ­£ã—ãå‹•ä½œã—ã¾ã™ï¼š

```cb
struct Container<T> {
    T[5] items;
};

// æ–‡å­—åˆ—é…åˆ—
Container<string> cs;
cs.items[0] = "Hello";
println("{cs.items[0]}");  // "Hello" âœ…

// æ•´æ•°é…åˆ—
Container<int> ci;
ci.items[0] = 42;
println("{ci.items[0]}");  // 42 âœ…

// è¤‡æ•°ã®å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
struct Pair<T, U> {
    T first;
    U second;
};

Pair<int, string> p;
p.first = 42;
p.second = "Answer";
println("({p.first}, {p.second})");  // (42, Answer) âœ…
```

---

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ v0.13.2 ã‚’è¿½åŠ 
- ãƒ†ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª `tests/cases/v0.13.2/` ã‚’æ–°è¨­
- åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ 

---

## ğŸ“Š çµ±è¨ˆæƒ…å ±

- **ä¿®æ­£ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«**: 2ãƒ•ã‚¡ã‚¤ãƒ«
- **è¿½åŠ ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰è¡Œ**: +48è¡Œ
- **å‰Šé™¤ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰è¡Œ**: -9è¡Œ
- **æ–°è¦ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: 2ãƒ•ã‚¡ã‚¤ãƒ«
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 6å€‹ã®æ–°è¦ãƒ†ã‚¹ãƒˆ + æ—¢å­˜ã®å…¨ãƒ†ã‚¹ãƒˆ

---

## ğŸ”„ ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ‰‹é †

v0.13.1ã‹ã‚‰v0.13.2ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã¯å®Œå…¨ã«å¾Œæ–¹äº’æ›æ€§ãŒã‚ã‚Šã¾ã™ï¼š

1. æœ€æ–°ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
2. `make clean && make` ã§ãƒ“ãƒ«ãƒ‰
3. `./tests/cases/v0.13.2/run_tests.sh` ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã«å¤‰æ›´ã¯ä¸è¦ã§ã™ã€‚

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

- ç©ºæ–‡å­—åˆ—ã®è¡¨ç¤ºå•é¡Œã®ä¿®æ­£ï¼ˆç¾åœ¨"0"ã¨è¡¨ç¤ºã•ã‚Œã‚‹ï¼‰
- ã‚ˆã‚Šé«˜åº¦ãªAsync/Genericçµ±åˆã®ã‚µãƒãƒ¼ãƒˆ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

---

## è¬è¾

Genericé…åˆ—ã®æ–‡å­—åˆ—å‹ãƒã‚°ã‚’ç™ºè¦‹ã—ã€è©³ç´°ãªèª¿æŸ»ã‚’è¡Œã£ã¦ãã ã•ã£ãŸçš†æ§˜ã«æ„Ÿè¬ã—ã¾ã™ã€‚
