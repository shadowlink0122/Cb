// Test matching test_queue_import.cb structure
import "stdlib/collections/queue.cb";

int main() {
    println("=== Test: Queue<int> Import ===");
    Queue<int> q;
    println("✅ Queue<int> import and struct creation successful");
    
    println("\n=== Test: Queue<int> Basic Operations ===");
    q.enqueue(10);
    q.enqueue(20);
    q.enqueue(30);
    
    if (q.size() == 3) {
        println("✅ Queue<int> enqueue operations work");
    }
    
    int val = q.dequeue();
    if (val == 10 && q.size() == 2) {
        println("✅ Queue<int> dequeue operations work");
    }
    
    int peek_val = q.peek();
    if (peek_val == 20 && q.size() == 2) {
        println("✅ Queue<int> peek operations work");
    }
    
    // Empty the queue
    q.dequeue();
    q.dequeue();
    
    println("\n=== Test: Queue<int> Dynamic Size ===");
    Queue<int> q2;
    
    q2.enqueue(1);
    q2.enqueue(2);
    q2.enqueue(3);
    q2.enqueue(4);
    q2.enqueue(5);
    
    int size = q2.size();
    if (size == 5) {
        println("✅ Queue<int> dynamic size works (no capacity limit)");
    }
    
    println("About to empty q2...");
    q2.dequeue(); 
    q2.dequeue(); 
    q2.dequeue(); 
    q2.dequeue(); 
    q2.dequeue();
    println("q2 emptied");
    
    println("Creating q3...");
    Queue<int> q3;
    
    q3.enqueue(10);
    q3.enqueue(20);
    q3.enqueue(30);
    
    int v1 = q3.dequeue();
    int v2 = q3.dequeue();
    
    q3.enqueue(40);
    q3.enqueue(50);
    
    int v3 = q3.dequeue();
    
    if (v1 == 10 && v2 == 20 && v3 == 30 && q3.size() == 2) {
        println("✅ Queue<int> FIFO order maintained");
    }
    
    println("About to empty q3...");
    q3.dequeue(); 
    q3.dequeue();
    println("q3 emptied");
    
    println("Creating q4...");
    Queue<int> q4;
    q4.enqueue(10);
    q4.enqueue(20);
    
    println("About to empty q4...");
    q4.dequeue(); 
    q4.dequeue();
    println("q4 emptied");
    
    println("✅ All tests passed");
    println("Returning from main...");
    return 0;
}
